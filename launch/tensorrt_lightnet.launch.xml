<launch>
  <!-- image topic name to be subscribed -->
  <arg name="input/image" default="image_raw" />
  <!-- output topic name to be published (bbox) -->
  <arg name="output/objects" default="/perception/object_recognition/detection/rois0" />

  <!-- algorithm parameters -->
  <arg name="model_cfg" default="$(find-pkg-share tensorrt_lightnet)/lightNet-TRT/configs/lightNet-BDD100K-det-semaseg-1280x960.cfg" />
  <arg name="model_weights" default="$(find-pkg-share tensorrt_lightnet)/lightNet-TRT/configs/lightNet-BDD100K-det-semaseg-1280x960.weights" />

  <group>
    <load_composable_node target="camera0_container">
      <composable_node pkg="tensorrt_lightnet" plugin="tensorrt_lightnet::TrtLightNetNode" name="tensorrt_lightnet">
        <remap from="~/in/image" to="$(var input/image)" />
        <remap from="~/out/image" to="$(var output/objects)/debug/image" />
        <param name="model_cfg" value="$(var model_cfg)" />
        <param name="model_weights" value="$(var model_weights)" />
      </composable_node>
    </load_composable_node>
  </group>

</launch>